--------------------------------------------------------
--  File created - Wednesday-September-12-2018   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence M_BRANCH_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MTTS"."M_BRANCH_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 224 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence M_COMPANY_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "MTTS"."M_COMPANY_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 161 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table APP_ROLE
--------------------------------------------------------

  CREATE TABLE "MTTS"."APP_ROLE" 
   (	"ROLE_ID" NUMBER(19,0), 
	"ROLE_NAME" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table APP_USER
--------------------------------------------------------

  CREATE TABLE "MTTS"."APP_USER" 
   (	"USER_ID" NUMBER(19,0), 
	"USER_NAME" VARCHAR2(36 BYTE), 
	"ENCRYTED_PASSWORD" VARCHAR2(128 BYTE), 
	"ENABLED" NUMBER(1,0), 
	"DELETE_FLG" NUMBER(1,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ARTICLES
--------------------------------------------------------

  CREATE TABLE "MTTS"."ARTICLES" 
   (	"ARTICLE_ID" NUMBER, 
	"TITLE" VARCHAR2(200 BYTE), 
	"CATEGORY" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PERSISTENT_LOGINS
--------------------------------------------------------

  CREATE TABLE "MTTS"."PERSISTENT_LOGINS" 
   (	"USERNAME" VARCHAR2(64 BYTE), 
	"SERIES" VARCHAR2(64 BYTE), 
	"TOKEN" VARCHAR2(64 BYTE), 
	"LAST_USED" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table USER_ROLE
--------------------------------------------------------

  CREATE TABLE "MTTS"."USER_ROLE" 
   (	"ID" NUMBER(19,0), 
	"USER_ID" NUMBER(19,0), 
	"ROLE_ID" NUMBER(19,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into MTTS.APP_ROLE
SET DEFINE OFF;
Insert into MTTS.APP_ROLE (ROLE_ID,ROLE_NAME) values (1,'ROLE_ADMIN');
Insert into MTTS.APP_ROLE (ROLE_ID,ROLE_NAME) values (2,'ROLE_MEMBER');
REM INSERTING into MTTS.APP_USER
SET DEFINE OFF;
Insert into MTTS.APP_USER (USER_ID,USER_NAME,ENCRYTED_PASSWORD,ENABLED,DELETE_FLG) values (2,'dbuser1','$2a$10$PrI5Gk9L.tSZiW9FXhTS8O8Mz9E97k2FZbFvGFFaSsiTUIl.TCrFu',0,1);
Insert into MTTS.APP_USER (USER_ID,USER_NAME,ENCRYTED_PASSWORD,ENABLED,DELETE_FLG) values (1,'dbadmin1','$2a$10$PrI5Gk9L.tSZiW9FXhTS8O8Mz9E97k2FZbFvGFFaSsiTUIl.TCrFu',0,1);
Insert into MTTS.APP_USER (USER_ID,USER_NAME,ENCRYTED_PASSWORD,ENABLED,DELETE_FLG) values (3,'namnv','123456',1,1);
Insert into MTTS.APP_USER (USER_ID,USER_NAME,ENCRYTED_PASSWORD,ENABLED,DELETE_FLG) values (4,'member','123456',1,0);
REM INSERTING into MTTS.ARTICLES
SET DEFINE OFF;
Insert into MTTS.ARTICLES (ARTICLE_ID,TITLE,CATEGORY) values (1,'Java Concurrency','Java');
Insert into MTTS.ARTICLES (ARTICLE_ID,TITLE,CATEGORY) values (3,'Spring MVC with Hibernate','Spring');
Insert into MTTS.ARTICLES (ARTICLE_ID,TITLE,CATEGORY) values (2,'Hibernate HQL ','Hibernate');
REM INSERTING into MTTS.PERSISTENT_LOGINS
SET DEFINE OFF;
REM INSERTING into MTTS.USER_ROLE
SET DEFINE OFF;
Insert into MTTS.USER_ROLE (ID,USER_ID,ROLE_ID) values (1,1,1);
Insert into MTTS.USER_ROLE (ID,USER_ID,ROLE_ID) values (2,1,2);
Insert into MTTS.USER_ROLE (ID,USER_ID,ROLE_ID) values (3,2,2);
Insert into MTTS.USER_ROLE (ID,USER_ID,ROLE_ID) values (4,3,1);
Insert into MTTS.USER_ROLE (ID,USER_ID,ROLE_ID) values (5,4,2);
--------------------------------------------------------
--  DDL for Index APP_ROLE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MTTS"."APP_ROLE_PK" ON "MTTS"."APP_ROLE" ("ROLE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index APP_ROLE_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MTTS"."APP_ROLE_UK" ON "MTTS"."APP_ROLE" ("ROLE_NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index APP_USER_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MTTS"."APP_USER_PK" ON "MTTS"."APP_USER" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index APP_USER_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MTTS"."APP_USER_UK" ON "MTTS"."APP_USER" ("USER_NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ARTICLES_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MTTS"."ARTICLES_PK" ON "MTTS"."ARTICLES" ("ARTICLE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C0026539
--------------------------------------------------------

  CREATE UNIQUE INDEX "MTTS"."SYS_C0026539" ON "MTTS"."PERSISTENT_LOGINS" ("SERIES") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index USER_ROLE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MTTS"."USER_ROLE_PK" ON "MTTS"."USER_ROLE" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index USER_ROLE_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MTTS"."USER_ROLE_UK" ON "MTTS"."USER_ROLE" ("USER_ID", "ROLE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table APP_ROLE
--------------------------------------------------------

  ALTER TABLE "MTTS"."APP_ROLE" ADD CONSTRAINT "APP_ROLE_PK" PRIMARY KEY ("ROLE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "MTTS"."APP_ROLE" ADD CONSTRAINT "APP_ROLE_UK" UNIQUE ("ROLE_NAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "MTTS"."APP_ROLE" MODIFY ("ROLE_ID" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."APP_ROLE" MODIFY ("ROLE_NAME" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table APP_USER
--------------------------------------------------------

  ALTER TABLE "MTTS"."APP_USER" ADD CONSTRAINT "APP_USER_PK" PRIMARY KEY ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "MTTS"."APP_USER" ADD CONSTRAINT "APP_USER_UK" UNIQUE ("USER_NAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "MTTS"."APP_USER" MODIFY ("USER_ID" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."APP_USER" MODIFY ("USER_NAME" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."APP_USER" MODIFY ("ENCRYTED_PASSWORD" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."APP_USER" MODIFY ("ENABLED" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table ARTICLES
--------------------------------------------------------

  ALTER TABLE "MTTS"."ARTICLES" ADD CONSTRAINT "ARTICLES_PK" PRIMARY KEY ("ARTICLE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "MTTS"."ARTICLES" MODIFY ("ARTICLE_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PERSISTENT_LOGINS
--------------------------------------------------------

  ALTER TABLE "MTTS"."PERSISTENT_LOGINS" MODIFY ("USERNAME" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."PERSISTENT_LOGINS" MODIFY ("SERIES" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."PERSISTENT_LOGINS" MODIFY ("TOKEN" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."PERSISTENT_LOGINS" MODIFY ("LAST_USED" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."PERSISTENT_LOGINS" ADD PRIMARY KEY ("SERIES")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USER_ROLE
--------------------------------------------------------

  ALTER TABLE "MTTS"."USER_ROLE" MODIFY ("ID" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."USER_ROLE" MODIFY ("USER_ID" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."USER_ROLE" MODIFY ("ROLE_ID" NOT NULL ENABLE);
 
  ALTER TABLE "MTTS"."USER_ROLE" ADD CONSTRAINT "USER_ROLE_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "MTTS"."USER_ROLE" ADD CONSTRAINT "USER_ROLE_UK" UNIQUE ("USER_ID", "ROLE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table USER_ROLE
--------------------------------------------------------

  ALTER TABLE "MTTS"."USER_ROLE" ADD CONSTRAINT "USER_ROLE_FK1" FOREIGN KEY ("USER_ID")
	  REFERENCES "MTTS"."APP_USER" ("USER_ID") ENABLE;
 
  ALTER TABLE "MTTS"."USER_ROLE" ADD CONSTRAINT "USER_ROLE_FK2" FOREIGN KEY ("ROLE_ID")
	  REFERENCES "MTTS"."APP_ROLE" ("ROLE_ID") ENABLE;
